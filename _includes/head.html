<head>
  <meta charset="utf-8">
  <meta property="og:locale" content="en_US">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  {% if page.url contains ".html" %}
  {% capture canonical_link %}{{ site.url }}{{ page.url }}{% endcapture %}
  {% elsif page.url == nil or page.url == '' or page.url == '/'  %}
  {% capture canonical_link %}{{ site.url }}{% endcapture %}
  {% else %}
  {% capture canonical_link %}{{ site.url }}{{ page.url }}.html{% endcapture %}
  {% endif %}


  {% if page.title %}
  <title>{{page.title}}</title>
  <meta property="og:title" content="{{ page.title }}">
  {% else %}
  <title>{{ site.title | escape }}</title>
  <meta property="og:title" content="{{ site.title | escape }}">
  {% endif %}
  <link rel="canonical" href="{{ canonical_link }}">
  {% if page.keywords %}
  <meta name="keywords" content="{{ page.keywords }}">
  {% endif %}
  <meta name="author" content="Artem Konovalov">

  <meta property="og:site_name" content="{{ site.title }}">
  {% if page.layout == "post" %}
  <meta property="og:type" content="article">
  <meta property="article:author" content="Artem Konovalov">
  <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
  {% if page.category %}
  <meta property="article:section" content="{{ page.category }}">
  {% endif %}

  {% elsif page.is_about == "true" %}
  <meta property="og:type" content="profile">
  <meta property="profile:first_name" content="Artem">
  <meta property="profile:last_name" content="Konovalov">
  {% else %}
  <meta property="og:type" content="website">
  {% endif %}

  <meta property="og:url" content="{{site.url}}{{page.url}}" >
  {% if page.description %}
  <meta name="description" property="og:description" content="{{ page.description }}">
  {% else %}
  <meta name="description" property="og:description" content="{{ site.description }}">
  {% endif %}

  {% if page.image %}
  <meta property="og:image" content="{{site.url}}{{ page.image }}">
  {% else %}
  <meta property="og:image" content="{{site.url}}/assets/photos/main-thumbnail.jpg">
  {% endif %}

  <script type="application/ld+json">
    {
      "@context": "http://schema.org/",
      "@type": "BlogPosting",
      "author": {
        "@type": "Person",
        "name": "{{ site.author.name }}",
        "url": "{{site.url}}/about.html"
      },

      {% if page.title %}
      "headline": "{{ page.title }}",
      {% else %}
      "headline": "{{ site.title | escape }}",
      {% endif %}

      {% if page.description %}
      "description": "{{ page.description }}",
      {% else %}
      "description": "{{ site.description }}",
      {% endif %}
      "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ canonical_link }}"
      },
      {% if page.image %}
      "image": "{{site.url}}{{ page.image }}",
      {% else %}
      "image": "{{site.url}}/assets/photos/main-thumbnail.jpg.jpg",
      {% endif %}
      "datePublished": "{{ page.date | date: "%Y-%m-%d" }}",
      "url":  "{{ canonical_link }}"
      }
  </script>

  <!-- CSS -->
  <link rel="stylesheet" href="{{ site.baseurl }}assets/css/poole.css">
  <link rel="stylesheet" href="{{ site.baseurl }}assets/css/syntax.css">
  <link rel="stylesheet" href="{{ site.baseurl }}assets/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/logos/favicon_icons/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/logos/favicon_icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="/assets/logos/favicon_icons/favicon-48x48.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/logos/favicon_icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="144x144" href="/assets/logos/favicon_icons/favicon-144x144.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/logos/favicon_icons/apple-touch-icon.png">

  {%- include google-analytics.html -%}

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>
